<?xml version='1.0' encoding='UTF-8'?>

<!-- sample config extract for JBOSS EAP 6.x / JBOSS AS 7 with my updates related to JCA Messaging setup -->
<server xmlns="urn:jboss:domain:1.4">

    <!-- ... -->

    <vault>
        <vault-option name="KEYSTORE_URL" value="/secure/jbossvault.keystore"/>
        <vault-option name="KEYSTORE_PASSWORD" value="MASK-2G9sZErsaOtxhOqBS98FcBK"/>
        <vault-option name="KEYSTORE_ALIAS" value="jbossvault"/>
        <vault-option name="SALT" value="12345678"/>
        <vault-option name="ITERATION_COUNT" value="50"/>
        <vault-option name="ENC_FILE_DIR" value="/secure/"/>
    </vault>

    <!-- ... -->

    <profile>

        <!-- ... -->

        <subsystem xmlns="urn:jboss:domain:ee:1.1">
            <global-modules>
                <module name="com.softwareag.universalmessaging" slot="main"/>
                <module name="com.softwareag.webMethods.broker" slot="main"/>
                <module name="org.jboss.common-core" slot="main"/>
            </global-modules>
            <spec-descriptor-property-replacement>false</spec-descriptor-property-replacement>
            <jboss-descriptor-property-replacement>true</jboss-descriptor-property-replacement>
        </subsystem>

        <!-- ... -->

        <subsystem xmlns="urn:jboss:domain:ejb3:1.4">

            <!-- ... -->

            <mdb>
                <resource-adapter-ref resource-adapter-name="um-jmsra-95_1.7.rar"/>
                <bean-instance-pool-ref pool-name="mdb-strict-max-pool"/>
            </mdb>
            <pools>
                <bean-instance-pools>
                    <strict-max-pool name="slsb-strict-max-pool" max-pool-size="20" instance-acquisition-timeout="5"
                                     instance-acquisition-timeout-unit="MINUTES"/>
                    <strict-max-pool name="mdb-strict-max-pool" max-pool-size="50" instance-acquisition-timeout="5"
                                     instance-acquisition-timeout-unit="MINUTES"/>
                </bean-instance-pools>
            </pools>

            <!-- ... -->

        </subsystem>

        <!-- ... -->

        <subsystem xmlns="urn:jboss:domain:resource-adapters:1.1">
            <resource-adapters>
                <resource-adapter id="webm-jmsra.rar">
                    <archive>
                        webm-jmsra.rar
                    </archive>
                    <transaction-support>NoTransaction</transaction-support>
                    <config-property name="JndiProperties">
                        java.naming.factory.initial=com.webmethods.jms.naming.WmJmsNamingCtxFactory,java.naming.provider.url=wmjmsnaming://mybroker@wmvm:6849
                    </config-property>
                    <config-property name="SupportsXA">
                        false
                    </config-property>
                    <connection-definitions>
                        <connection-definition class-name="com.sun.genericra.outbound.ManagedJMSConnectionFactory"
                                               jndi-name="java:/jms/broker" enabled="true" pool-name="java:/jms/broker">
                            <config-property name="JndiProperties">
                                java.naming.factory.initial=com.webmethods.jms.naming.WmJmsNamingCtxFactory,java.naming.provider.url=wmjmsnaming://mybroker@wmvm:6849
                            </config-property>
                            <config-property name="ConnectionValidationEnabled">
                                true
                            </config-property>
                            <config-property name="ConnectionFactoryJndiName">
                                OutboundQueueConnectionFactory
                            </config-property>
                            <pool>
                                <min-pool-size>10</min-pool-size>
                                <max-pool-size>50</max-pool-size>
                                <prefill>true</prefill>
                                <use-strict-min>true</use-strict-min>
                                <flush-strategy>IdleConnections</flush-strategy>
                            </pool>
                            <security>
                                <application/>
                            </security>
                            <validation>
                                <background-validation>true</background-validation>
                            </validation>
                        </connection-definition>
                    </connection-definitions>
                </resource-adapter>
            </resource-adapters>
        </subsystem>

        <!-- ... -->

    </profile>

    <!-- ... -->

</server>
